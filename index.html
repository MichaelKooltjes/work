<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Work Progress Tracker</title>
    <style>
        body { font-family: 'Arial', sans-serif; padding: 20px; text-align: center; background-color: #f0f0f0; color: #333; }
        h1 { color: #4CAF50; }
        .form-container, .progress-container { margin: 20px auto; width: 80%; max-width: 500px; }
        .form-container { background-color: #fff; padding: 20px; border-radius: 10px; box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); }
        .progress-container { height: 30px; background-color: #f3f3f3; border-radius: 25px; position: relative; }
        .bar { position: absolute; top: 0; left: 0; height: 100%; transition: width 0.5s ease; }
        .progress-bar { background-color: #4CAF50; }
        .break-bar { background-color: #F0AD4E; }
        .meal-bar { background-color: #5BC0DE; }
        label, .output p { color: #4CAF50; font-weight: bold; }
        input { width: 100%; margin: 10px 0; padding: 5px; border: 1px solid #ddd; border-radius: 4px; }
        .output p { margin-top: 10px; }
    </style>
</head>
<body>
    <h1>Work Progress Tracker</h1>
    <div class="form-container">
        <label for="income">Income per hour (in €):</label><input type="number" id="income" required>
        <label>Start time:</label><input type="range" id="startSlider" min="9" max="20" value="9" oninput="syncStartTime()">
        <input type="time" id="startTime" value="09:00" min="09:00" max="20:00" oninput="syncStartSlider()">
        <label>End time:</label><input type="range" id="endSlider" min="9" max="20" value="17" oninput="syncEndTime()">
        <input type="time" id="endTime" value="17:00" max="20:00" oninput="syncEndSlider()">
        <div class="output">
            <p>Total earnings: €<span id="totalEarnings">0</span></p>
            <p>Break time: <span id="breakTimeDisplay">0 minutes</span></p>
            <p>Meal compensation: €<span id="mealCompensationDisplay">0.00</span></p>
        </div>
    </div>
    <div class="progress-container">
        <div class="bar break-bar" id="breakBar"></div>
        <div class="bar meal-bar" id="mealCompensationBar"></div>
        <div class="bar progress-bar" id="progressBar"></div>
    </div>
    <div class="output">
        <p>Money made: €<span id="moneyMade">0</span></p>
    </div>

    <script>
        const byId = (id) => document.getElementById(id);

        function syncStartTime() { byId('startTime').value = padTime(byId('startSlider').value); startProgress(); }
        function syncStartSlider() { byId('startSlider').value = byId('startTime').value.split(':')[0]; startProgress(); }
        function syncEndTime() { byId('endTime').value = padTime(byId('endSlider').value); startProgress(); }
        function syncEndSlider() { byId('endSlider').value = byId('endTime').value.split(':')[0]; startProgress(); }

        function padTime(val) { return val.padStart(2, '0') + ':00'; }

        function startProgress() {
            const income = parseFloat(byId('income').value), startTime = +byId('startSlider').value, endTime = +byId('endSlider').value;
            if (endTime <= startTime || isNaN(income)) return updateProgress(0, 0, 0, 0, 0);

            let totalWorkTime = endTime - startTime, breakTime = totalWorkTime >= 5.5 ? 0.5 : 0.25, mealComp = breakTime === 0.5 && endTime === 20 ? 7.50 : 0;
            let totalIncome = (totalWorkTime - breakTime) * income + mealComp;

            updateProgress(totalIncome, totalWorkTime, breakTime, mealComp, income);
        }

        function updateProgress(totalIncome, totalWorkTime, breakTime, mealComp, income) {
            const breakPercent = (breakTime / (totalWorkTime + breakTime)) * 100, mealCompPercent = mealComp > 0 ? 10 : 0, moneyMade = totalWorkTime * income + mealComp;
            byId('breakBar').style.width = breakPercent + '%';
            byId('mealCompensationBar').style.width = mealCompPercent + '%';
            byId('progressBar').style.width = (totalWorkTime / (totalWorkTime + breakTime)) * 100 + '%';
            byId('totalEarnings').textContent = totalIncome.toFixed(2);
            byId('breakTimeDisplay').textContent = (breakTime * 60) + ' minutes';
            byId('mealCompensationDisplay').textContent = mealComp.toFixed(2);
            byId('moneyMade').textContent = moneyMade.toFixed(2);
        }
    </script>
</body>
</html>
